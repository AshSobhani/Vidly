{"version":3,"sources":["services/logService.js","services/httpService.js","services/movieService.js","services/genreService.js","components/common/pagination.jsx","components/common/listGroup.jsx","utils/paginate.js","services/authService.js","components/common/like.jsx","components/common/tableHeader.jsx","components/common/tableBody.jsx","components/common/table.jsx","components/moviesTable.jsx","components/common/input.jsx","components/common/searchBox.jsx","components/movies.jsx","components/logout.jsx","components/customers.jsx","components/common/select.jsx","components/common/form.jsx","components/movieForm.jsx","components/rentals.jsx","components/notFound.jsx","components/common/navBar.jsx","components/loginForm.jsx","services/userService.js","components/registerForm.jsx","components/common/protectedRoute.jsx","App.js","reportWebVitals.js","index.js"],"names":["init","log","error","console","axios","defaults","baseURL","process","interceptors","response","use","status","logger","toast","Promise","reject","get","post","put","delete","setJwt","jwt","headers","common","apiEndPoint","movieUrl","id","getMovie","movieId","http","saveMovie","movie","_id","body","deleteMovie","getGenres","Pagination","itemsCount","pageSize","onPageChange","currentPage","pageCount","Math","ceil","pages","_","range","className","map","page","href","onClick","ListGroup","items","textProperty","valueProperty","onItemSelect","selectedGenre","item","defaultProps","paginate","pageNumber","startIndex","slice","take","value","tokenKey","email","password","a","data","localStorage","setItem","getJwt","getItem","login","loginWithJwt","logout","removeItem","getCurrentUser","jwtDecode","ex","Like","liked","classes","style","cursor","aria-hidden","TableHeader","raiseSort","path","sortColumn","props","order","onSort","renderSortIcon","column","this","columns","label","key","Component","TableBody","renderCell","content","createKey","Table","MoviesTable","Link","to","title","onLike","deleteColumn","onDelete","user","auth","isAdmin","push","movies","Input","name","rest","htmlFor","SearchBox","onChange","type","placeholder","e","currentTarget","Movies","state","genres","searchQuery","handleGenreSelect","genre","setState","handleDelete","orginalMovies","filter","c","handleLike","index","indexOf","handlePageChange","handleSort","handleSearch","query","getPagedData","allMovies","filtered","m","toLowerCase","startsWith","orderBy","totalCount","length","Logout","window","location","Customers","Select","options","htmlForm","option","Form","errors","validate","Joi","schema","abortEarly","details","message","validateProperty","obj","handleSubmit","preventDefault","doSubmit","handleChange","input","errorMessage","disabled","MovieForm","genreId","numberInStock","dailyRentalRate","string","required","number","min","max","history","populateGenre","populateMovies","match","params","mapToViewModel","replace","onSubmit","renderInput","renderSelect","renderButton","Rentals","NotFound","NavBar","data-toggle","data-target","aria-controls","aria-expanded","aria-label","NavLink","Fragment","LoginForm","username","from","pathname","Redirect","register","RegisterForm","userService","ProtectedRoute","component","render","Route","App","Switch","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","REACT_APP_NAME","ReactDOM","StrictMode","BrowserRouter","document","getElementById"],"mappings":"mVAUe,OACbA,KAPF,aAQEC,IANF,SAAaC,GACXC,QAAQD,MAAMA,KCHhBE,IAAMC,SAASC,QAAUC,kDAEzBH,IAAMI,aAAaC,SAASC,IAAI,MAAM,SAAAR,GAWrC,OATCA,EAAMO,UACNP,EAAMO,SAASE,QAAU,KACzBT,EAAMO,SAASE,OAAS,MAGxBC,EAAOX,IAAIC,GACXW,QAAMX,MAAM,mCAGNY,QAAQC,OAAOb,MAOR,OACdc,IAAKZ,IAAMY,IACXC,KAAMb,IAAMa,KACZC,IAAKd,IAAMc,IACXC,OAAQf,IAAMe,OACdC,OATM,SAAgBC,GACtBjB,IAAMC,SAASiB,QAAQC,OAAO,gBAAkBF,IClB3CG,G,MAAc,WAEpB,SAASC,EAASC,GACjB,MAAM,GAAN,OAAUF,EAAV,YAAyBE,GAOnB,SAASC,EAASC,GACxB,OAAOC,EAAKb,IAAIS,EAASG,IAGnB,SAASE,EAAUC,GACzB,GAAIA,EAAMC,IAAK,CACd,IAAMC,EAAI,eAAQF,GAElB,cADOE,EAAKD,IACLH,EAAKX,IAAIO,EAASM,EAAMC,KAAMC,GAGtC,OAAOJ,EAAKZ,KAAKO,EAAaO,GAGxB,SAASG,EAAYN,GAC3B,OAAOC,EAAKV,OAAOM,EAASG,ICzBtB,SAASO,IACf,OAAON,EAAKb,IAAI,W,qBCyCFoB,EAzCI,SAAC,GAAyD,IAAvDC,EAAsD,EAAtDA,WAAYC,EAA0C,EAA1CA,SAAUC,EAAgC,EAAhCA,aAAcC,EAAkB,EAAlBA,YACnDC,EAAYC,KAAKC,KAAKN,EAAaC,GACzC,GAAkB,IAAdG,EAAiB,OAAO,KAE5B,IAAMG,EAAQC,IAAEC,MAAM,EAAGL,EAAY,GAErC,OACC,8BACC,8BACC,oBAAIM,UAAU,aAAd,SACEH,EAAMI,KAAI,SAAAC,GAAI,OACd,oBAECF,UACCE,IAAST,EACN,mBACA,YALL,SAQC,mBACCU,KAAK,KACLH,UAAU,YACVI,QAAS,kBAAMZ,EAAaU,IAH7B,SAKEA,KAZGA,aCdNG,EAAY,SAAC,GAMZ,IALNC,EAKK,EALLA,MACAC,EAIK,EAJLA,aACAC,EAGK,EAHLA,cACAC,EAEK,EAFLA,aACAC,EACK,EADLA,cAEA,OACC,8BACC,oBAAIV,UAAU,aAAd,SACEM,EAAML,KAAI,SAAAU,GAAI,OACd,oBACCP,QAAS,kBAAMK,EAAaE,IAE5BX,UACCW,IAASD,EACN,yBACA,kBANL,SASEC,EAAKJ,IAPDI,EAAKH,YAehBH,EAAUO,aAAe,CACxBL,aAAc,OACdC,cAAe,OAGDH,QCjCR,SAASQ,EAASP,EAAOQ,EAAYvB,GAC3C,IAAMwB,GAAcD,EAAa,GAAKvB,EAEtC,OAAOO,IAAEQ,GAAOU,MAAMD,GAAYE,KAAK1B,GAAU2B,Q,6BCD5CzC,EAAc,QACd0C,EAAW,Q,4CAIV,WAAqBC,EAAOC,GAA5B,iBAAAC,EAAA,sEACsBxC,EAAKZ,KAAKO,EAAa,CAAE2C,QAAOC,aADtD,gBACQ/C,EADR,EACEiD,KACRC,aAAaC,QAAQN,EAAU7C,GAFzB,4C,sBAsBA,SAASoD,IACf,OAAOF,aAAaG,QAAQR,GAzB7BrC,EAAKT,OAAOqD,KA4BG,OACdE,MA3BM,SAAP,qCA4BCC,aAvBM,SAAsBvD,GAC5BkD,aAAaC,QAAQN,EAAU7C,IAuB/BwD,OApBM,WACNN,aAAaO,WAAWZ,IAoBxBa,eAjBM,WACN,IACC,IAAM1D,EAAMkD,aAAaG,QAAQR,GACjC,OAAOc,IAAU3D,GAChB,MAAO4D,GACR,OAAO,OAaRR,UCxBcS,EAdF,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,MAAOhC,EAAc,EAAdA,QAClBiC,EAAU,cAGd,OAFKD,IAAOC,GAAW,MAGtB,mBACCjC,QAASA,EACTkC,MAAO,CAAEC,OAAQ,WACjBvC,UAAWqC,EACXG,cAAY,UCgCAC,E,4MAxCdC,UAAY,SAAAC,GACX,IAAMC,EAAU,eAAQ,EAAKC,MAAMD,YAC/BA,EAAWD,OAASA,EACvBC,EAAWE,MAA6B,QAArBF,EAAWE,MAAkB,OAAS,OAEzDF,EAAWD,KAAOA,EAClBC,EAAWE,MAAQ,OAEpB,EAAKD,MAAME,OAAOH,I,EAGnBI,eAAiB,SAAAC,GAAW,IACnBL,EAAe,EAAKC,MAApBD,WAER,OAAIK,EAAON,OAASC,EAAWD,KAAa,KACnB,QAArBC,EAAWE,MACP,mBAAG9C,UAAU,mBAEd,mBAAGA,UAAU,qB,uDAGX,IAAD,OACR,OACC,uBAAOA,UAAU,cAAjB,SACC,6BACEkD,KAAKL,MAAMM,QAAQlD,KAAI,SAAAgD,GAAM,OAC7B,qBACCjD,UAAU,YAEVI,QAAS,kBAAM,EAAKsC,UAAUO,EAAON,OAHtC,UAKEM,EAAOG,MALT,IAKiB,EAAKJ,eAAeC,KAH/BA,EAAON,MAAQM,EAAOI,gB,GA7BRC,aC+BXC,E,4MA7BdC,WAAa,SAAC7C,EAAMsC,GACnB,OAAIA,EAAOQ,QAAgBR,EAAOQ,QAAQ9C,GAEnCb,IAAE7B,IAAI0C,EAAMsC,EAAON,O,EAG3Be,UAAY,SAAC/C,EAAMsC,GAClB,OAAOtC,EAAK1B,KAAOgE,EAAON,MAAQM,EAAOI,M,uDAGhC,IAAD,SACkBH,KAAKL,MAAvBtB,EADA,EACAA,KAAM4B,EADN,EACMA,QAEd,OACC,gCACE5B,EAAKtB,KAAI,SAAAU,GAAI,OACb,6BACEwC,EAAQlD,KAAI,SAAAgD,GAAM,OAClB,6BACE,EAAKO,WAAW7C,EAAMsC,IADf,EAAKS,UAAU/C,EAAMsC,QAFvBtC,EAAK1B,c,GAjBKqE,aCcTK,EAbD,SAAC,GAA2C,IAAzCpC,EAAwC,EAAxCA,KAAM4B,EAAkC,EAAlCA,QAASP,EAAyB,EAAzBA,WAAYG,EAAa,EAAbA,OAC3C,OACC,wBAAO/C,UAAU,QAAjB,UACC,cAAC,EAAD,CACCmD,QAASA,EACTP,WAAYA,EACZG,OAAQA,IAET,cAAC,EAAD,CAAWxB,KAAMA,EAAM4B,QAASA,QCmDpBS,E,kDAtBd,aAAe,IAAD,uBACb,gBAnCDT,QAAU,CACT,CACCR,KAAM,QACNS,MAAO,QACPK,QAAS,SAAAzE,GAAK,OACb,cAAC6E,EAAA,EAAD,CAAMC,GAAE,kBAAa9E,EAAMC,KAA3B,SAAmCD,EAAM+E,UAG3C,CAAEpB,KAAM,aAAcS,MAAO,SAC7B,CAAET,KAAM,gBAAiBS,MAAO,SAChC,CAAET,KAAM,kBAAmBS,MAAO,QAClC,CACCC,IAAK,OACLI,QAAS,SAAAzE,GAAK,OACb,cAAC,EAAD,CACCoD,MAAOpD,EAAMoD,MACbhC,QAAS,kBAAM,EAAKyC,MAAMmB,OAAOhF,SAkBvB,EAZdiF,aAAe,CACdZ,IAAK,SACLI,QAAS,SAAAzE,GAAK,OACb,wBACCoB,QAAS,kBAAM,EAAKyC,MAAMqB,SAASlF,IACnCgB,UAAU,wBAFX,sBAWD,IAAMmE,EAAOC,EAAKpC,iBAFL,OAGTmC,GAAQA,EAAKE,SAChB,EAAKlB,QAAQmB,KAAK,EAAKL,cAJX,E,qDAQJ,IAAD,EAC+Bf,KAAKL,MAApC0B,EADA,EACAA,OAAQ3B,EADR,EACQA,WAAYG,EADpB,EACoBA,OAE5B,OACC,cAAC,EAAD,CACCxB,KAAMgD,EACNpB,QAASD,KAAKC,QACdP,WAAYA,EACZG,OAAQA,Q,GAnDcO,a,QCOXkB,EAVD,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,KAAMrB,EAA4B,EAA5BA,MAAOjG,EAAqB,EAArBA,MAAUuH,EAAW,wCAClD,OACC,sBAAK1E,UAAU,aAAf,UACC,uBAAO2E,QAASF,EAAhB,SAAuBrB,IACvB,iDAAWsB,GAAX,IAAiB/F,GAAI8F,EAAMA,KAAMA,EAAMzE,UAAU,kBAChD7C,GAAS,qBAAK6C,UAAU,qBAAf,SAAqC7C,QCQnCyH,EAbG,SAAC,GAAyB,IAAvB1D,EAAsB,EAAtBA,MAAO2D,EAAe,EAAfA,SAC3B,OACC,cAAC,EAAD,CACCC,KAAK,OACLL,KAAK,QACLzE,UAAU,oBACV+E,YAAY,YACZ7D,MAAOA,EACP2D,SAAU,SAAAG,GAAC,OAAIH,EAASG,EAAEC,cAAc/D,WCC9BgE,EAAb,4MACCC,MAAQ,CACPZ,OAAQ,GACRa,OAAQ,GACR3F,YAAa,EACbF,SAAU,EACVmB,cAAe,KACf2E,YAAa,GACbzC,WAAY,CAAED,KAAM,QAASG,MAAO,QARtC,EAmBCwC,kBAAoB,SAAAC,GACnB,EAAKC,SAAS,CACb9E,cAAe6E,EACfF,YAAa,GACb5F,YAAa,KAvBhB,EA2BCgG,aA3BD,uCA2BgB,WAAMzG,GAAN,iBAAAsC,EAAA,6DACRoE,EAAgB,EAAKP,MAAMZ,OAC3BA,EAASmB,EAAcC,QAAO,SAAAC,GAAC,OAAIA,EAAE3G,MAAQD,EAAMC,OACzD,EAAKuG,SAAS,CAAEjB,WAHF,kBAMPpF,EAAYH,EAAMC,KANX,uDAQT,KAAGvB,UAAmC,MAAvB,KAAGA,SAASE,QAC9BE,QAAMX,MAAM,uCAGb,EAAKqI,SAAS,CAAEjB,OAAQmB,IAZX,yDA3BhB,wDA2CCG,WAAa,SAAA7G,GACZ,IAAMuF,EAAM,YAAO,EAAKY,MAAMZ,QACxBuB,EAAQvB,EAAOwB,QAAQ/G,GAC7BuF,EAAOuB,GAAP,eAAqBvB,EAAOuB,IAC5BvB,EAAOuB,GAAO1D,OAASmC,EAAOuB,GAAO1D,MACrC,EAAKoD,SAAS,CAAEjB,YAhDlB,EAmDCyB,iBAAmB,SAAA9F,GAClB,EAAKsF,SAAS,CAAE/F,YAAaS,KApD/B,EAuDC+F,WAAa,SAAArD,GACZ,EAAK4C,SAAS,CAAE5C,gBAxDlB,EA2DCsD,aAAe,SAAAC,GACd,EAAKX,SAAS,CACbH,YAAac,EACbzF,cAAe,KACfjB,YAAa,KA/DhB,EAmEC2G,aAAe,WAAO,IAAD,EAQhB,EAAKjB,MANR5F,EAFmB,EAEnBA,SACAE,EAHmB,EAGnBA,YACQ4G,EAJW,EAInB9B,OACA7D,EALmB,EAKnBA,cACA2E,EANmB,EAMnBA,YACAzC,EAPmB,EAOnBA,WAGG0D,EAAWD,EAEXhB,EACHiB,EAAWD,EAAUV,QAAO,SAAAY,GAAC,OAC5BA,EAAExC,MAAMyC,cAAcC,WAAWpB,EAAYmB,kBAEpC9F,GAAiBA,EAAczB,MACzCqH,EAAWD,EAAUV,QAAO,SAAAY,GAAC,OAAIA,EAAEhB,MAAMtG,MAAQyB,EAAczB,QAGhE,IAMMsF,EAAS1D,EANAf,IAAE4G,QAChBJ,EACA,CAAC1D,EAAWD,MACZ,CAACC,EAAWE,QAGmBrD,EAAaF,GAE7C,MAAO,CAAEoH,WAAYL,EAASM,OAAQrF,KAAMgD,IA/F9C,0MAY+BnF,IAZ/B,uBAYgBmC,EAZhB,EAYUA,KACF6D,EAbR,CAakB,CAAEnG,IAAK,GAAIwF,KAAM,eAbnC,mBAasDlD,IAbtD,SbFQzC,EAAKb,IAAIQ,GaEjB,gBAegB8F,EAfhB,EAeUhD,KACR2B,KAAKsC,SAAS,CAAEjB,SAAQa,WAhB1B,sIAkGW,IAAD,EACmDlC,KAAKiC,MAAxD5F,EADA,EACAA,SAAUE,EADV,EACUA,YAAamD,EADvB,EACuBA,WAAYyC,EADnC,EACmCA,YADnC,EAE6BnC,KAAKkD,eAAlCO,EAFA,EAEAA,WAAkBpC,EAFlB,EAEYhD,KACZ4C,EAASjB,KAAKL,MAAdsB,KAER,OACC,sBAAKnE,UAAU,MAAf,UACC,qBAAKA,UAAU,QAAf,SACC,cAAC,EAAD,CACCM,MAAO4C,KAAKiC,MAAMC,OAClB1E,cAAewC,KAAKiC,MAAMzE,cAC1BD,aAAcyC,KAAKoC,sBAGrB,sBAAKtF,UAAU,MAAf,UACEmE,GACA,cAACN,EAAA,EAAD,CAAMC,GAAG,cAAc9D,UAAU,uBAAjC,uBAID,4CACa2G,EADb,4CAIA,cAAC,EAAD,CACCzF,MAAOmE,EACPR,SAAU3B,KAAKgD,eAEhB,cAAC,EAAD,CACC3B,OAAQA,EACR3B,WAAYA,EACZG,OAAQG,KAAK+C,WACbjC,OAAQd,KAAK2C,WACb3B,SAAUhB,KAAKuC,eAEhB,cAAC,EAAD,CACCnG,WAAYqH,EACZpH,SAAUA,EACVE,YAAaA,EACbD,aAAc0D,KAAK8C,6BAzIzB,GAA4B1C,a,yBCEbuD,G,kLATbzC,EAAKtC,SACLgF,OAAOC,SAAW,M,+BAIlB,OAAO,S,GAPYzD,aCGN0D,GAJG,WACjB,OAAO,4C,qCCgBOC,GAjBA,SAAC,GAA8C,IAA5CxC,EAA2C,EAA3CA,KAAMrB,EAAqC,EAArCA,MAAO8D,EAA8B,EAA9BA,QAAS/J,EAAqB,EAArBA,MAAUuH,EAAW,kDAC5D,OACC,sBAAK1E,UAAU,aAAf,UACC,uBAAOmH,SAAU1C,EAAjB,SAAwBrB,IACxB,iDAAQqB,KAAMA,EAAM9F,GAAI8F,GAAUC,GAAlC,IAAwC1E,UAAU,eAAlD,UACC,wBAAQkB,MAAM,KACbgG,EAAQjH,KAAI,SAAAmH,GAAM,OAClB,wBAAyBlG,MAAOkG,EAAOnI,IAAvC,SACEmI,EAAO3C,MADI2C,EAAOnI,YAKrB9B,GAAS,qBAAK6C,UAAU,qBAAf,SAAqC7C,QC8EnCkK,G,4MAtFdlC,MAAQ,CACP5D,KAAM,GACN+F,OAAQ,I,EAGTC,SAAW,WACV,IAEQpK,EAAUqK,KAAID,SAAS,EAAKpC,MAAM5D,KAAM,EAAKkG,OAFrC,CAAEC,YAAY,IAEtBvK,MAER,IAAKA,EAAO,OAAO,KAEnB,IAPgB,EAOVmK,EAAS,GAPC,eAQCnK,EAAMwK,SARP,IAQhB,gCAAShH,EAAT,QAAgC2G,EAAO3G,EAAKgC,KAAK,IAAMhC,EAAKiH,SAR5C,8BAShB,OAAON,G,EAGRO,iBAAmB,YAAsB,IAAnBpD,EAAkB,EAAlBA,KAAMvD,EAAY,EAAZA,MACrB4G,EAAG,gBAAMrD,EAAOvD,GAChBuG,EAAM,gBAAMhD,EAAO,EAAKgD,OAAOhD,IAC7BtH,EAAUqK,KAAID,SAASO,EAAKL,GAA5BtK,MAER,OAAOA,EAAQA,EAAMwK,QAAQ,GAAGC,QAAU,M,EAG3CG,aAAe,SAAA/C,GACdA,EAAEgD,iBAEF,IAAMV,EAAS,EAAKC,WACpB,EAAK/B,SAAS,CAAE8B,OAAQA,GAAU,KAC9BA,GAEJ,EAAKW,Y,EAGNC,aAAe,YAA+B,IAAbC,EAAY,EAA3BlD,cACXqC,EAAM,eAAQ,EAAKnC,MAAMmC,QACzBc,EAAe,EAAKP,iBAAiBM,GACvCC,EAAcd,EAAOa,EAAM1D,MAAQ2D,SAC3Bd,EAAOa,EAAM1D,MAEzB,IAAMlD,EAAI,eAAQ,EAAK4D,MAAM5D,MAC7BA,EAAK4G,EAAM1D,MAAQ0D,EAAMjH,MAEzB,EAAKsE,SAAS,CAAEjE,OAAM+F,Y,2DAGVlE,GACZ,OACC,wBAAQiF,SAAUnF,KAAKqE,WAAYvH,UAAU,kBAA7C,SACEoD,M,mCAKSqB,EAAMrB,EAAO8D,GAAU,IAAD,EACThE,KAAKiC,MAAtB5D,EAD0B,EAC1BA,KAAM+F,EADoB,EACpBA,OAEd,OACC,cAAC,GAAD,CACC7C,KAAMA,EACNvD,MAAOK,EAAKkD,GACZrB,MAAOA,EACP8D,QAASA,EACTrC,SAAU3B,KAAKgF,aACf/K,MAAOmK,EAAO7C,O,kCAKLA,EAAMrB,GAAuB,IAAhB0B,EAAe,uDAAR,OAAQ,EACd5B,KAAKiC,MAAtB5D,EAD+B,EAC/BA,KAAM+F,EADyB,EACzBA,OAEd,OACC,cAAC,EAAD,CACCxC,KAAMA,EACNL,KAAMA,EACNvD,MAAOK,EAAKkD,GACZrB,MAAOA,EACPyB,SAAU3B,KAAKgF,aACf/K,MAAOmK,EAAO7C,S,GAjFCnB,aCyFJgF,G,4MAvFdnD,MAAQ,CACP5D,KAAM,CACLwC,MAAO,GACPwE,QAAS,GACTC,cAAe,GACfC,gBAAiB,IAElBrD,OAAQ,GACRkC,OAAQ,I,EAGTG,OAAS,CACRxI,IAAKuI,KAAIkB,SACT3E,MAAOyD,KAAIkB,SAASC,WAAWvF,MAAM,SACrCmF,QAASf,KAAIkB,SAASC,WAAWvF,MAAM,SACvCoF,cAAehB,KAAIoB,SACjBC,IAAI,GACJC,IAAI,KACJH,WACAvF,MAAM,mBACRqF,gBAAiBjB,KAAIoB,SACnBD,WACAE,IAAI,GACJC,IAAI,IACJ1F,MAAM,sB,EAqCT6E,S,sBAAW,sBAAA3G,EAAA,sEACJvC,EAAU,EAAKoG,MAAM5D,MADjB,OAGV,EAAKsB,MAAMkG,QAAQzE,KAAK,WAHd,2C,4LAjCJpB,KAAK8F,gB,uBACL9F,KAAK+F,iB,8QAIoB7J,I,gBAAjBgG,E,EAAN7D,KACR2B,KAAKsC,SAAS,CAAEJ,W,6QAMC,SADVvG,EAAUqE,KAAKL,MAAMqG,MAAMC,OAAOxK,I,iEAGVC,EAASC,G,gBAAzBG,E,EAANuC,KACR2B,KAAKsC,SAAS,CAAEjE,KAAM2B,KAAKkG,eAAepK,K,kDAEtC,KAAGtB,UAAmC,MAAvB,KAAGA,SAASE,QAC9BsF,KAAKL,MAAMkG,QAAQM,QAAQ,c,qJAKfrK,GACd,MAAO,CACNC,IAAKD,EAAMC,IACX8E,MAAO/E,EAAM+E,MACbwE,QAASvJ,EAAMuG,MAAMtG,IACrBuJ,cAAexJ,EAAMwJ,cACrBC,gBAAiBzJ,EAAMyJ,mB,+BAWxB,OACC,gCACC,4CACA,uBAAMa,SAAUpG,KAAK6E,aAArB,UACE7E,KAAKqG,YAAY,QAAS,QAC1BrG,KAAKsG,aAAa,UAAW,QAAStG,KAAKiC,MAAMC,QACjDlC,KAAKqG,YACL,gBACA,kBACA,UAEArG,KAAKqG,YAAY,kBAAmB,QACpCrG,KAAKuG,aAAa,kB,GAjFApC,ICATqC,GAJC,WACf,OAAO,0CCGOC,GAJE,WAChB,OAAO,4C,SC4DOC,GA5DA,SAAC,GAAc,IAAZzF,EAAW,EAAXA,KACjB,OACC,sBAAKnE,UAAU,gDAAf,UACC,cAAC6D,EAAA,EAAD,CAAM7D,UAAU,eAAe8D,GAAG,IAAlC,mBAGA,wBACC9D,UAAU,iBACV8E,KAAK,SACL+E,cAAY,WACZC,cAAY,sBACZC,gBAAc,qBACdC,gBAAc,QACdC,aAAW,oBAPZ,SASC,sBAAMjK,UAAU,0BAEjB,qBAAKA,UAAU,2BAA2BrB,GAAG,qBAA7C,SACC,sBAAKqB,UAAU,aAAf,UACC,cAACkK,GAAA,EAAD,CAASlK,UAAU,oBAAoB8D,GAAG,UAA1C,oBAGA,cAACoG,GAAA,EAAD,CAASlK,UAAU,oBAAoB8D,GAAG,aAA1C,uBAGA,cAACoG,GAAA,EAAD,CAASlK,UAAU,oBAAoB8D,GAAG,WAA1C,sBAGEK,GACD,eAAC,IAAMgG,SAAP,WACC,cAACD,GAAA,EAAD,CAASlK,UAAU,oBAAoB8D,GAAG,SAA1C,mBAGA,cAACoG,GAAA,EAAD,CACClK,UAAU,oBACV8D,GAAG,YAFJ,yBAQDK,GACA,eAAC,IAAMgG,SAAP,WACC,cAACD,GAAA,EAAD,CACClK,UAAU,oBACV8D,GAAG,WAFJ,SAIEK,EAAKM,OAEP,cAACyF,GAAA,EAAD,CAASlK,UAAU,oBAAoB8D,GAAG,UAA1C,gCCJQsG,G,4MAzCdjF,MAAQ,CACP5D,KAAM,CAAE8I,SAAU,GAAIhJ,SAAU,IAChCiG,OAAQ,I,EAGTG,OAAS,CACR4C,SAAU7C,KAAIkB,SAASC,WAAWvF,MAAM,YACxC/B,SAAUmG,KAAIkB,SAASC,WAAWvF,MAAM,a,EAGzC6E,S,sBAAW,gCAAA3G,EAAA,sEAEDC,EAAS,EAAK4D,MAAd5D,KAFC,SAGH6C,EAAKxC,MAAML,EAAK8I,SAAU9I,EAAKF,UAH5B,OAKD8D,EAAU,EAAKtC,MAAMkE,SAArB5B,MACR2B,OAAOC,SAAW5B,EAAQA,EAAMmF,KAAKC,SAAW,IANvC,gDAQL,KAAG7M,UAAmC,MAAvB,KAAGA,SAASE,UACxB0J,EADwC,eAC1B,EAAKnC,MAAMmC,SACxB+C,SAAW,KAAG3M,SAAS6D,KAC9B,EAAKiE,SAAS,CAAE8B,YAXR,yD,uDAiBV,OAAIlD,EAAKpC,iBAAyB,cAACwI,GAAA,EAAD,CAAU1G,GAAG,MAE9C,gCACC,uCACA,uBAAMwF,SAAUpG,KAAK6E,aAArB,UACE7E,KAAKqG,YAAY,WAAY,YAC7BrG,KAAKqG,YAAY,WAAY,WAAY,YACzCrG,KAAKuG,aAAa,mB,GAnCApC,ICDjB,SAASoD,GAAStG,GACxB,OAAOrF,EAAKZ,KAHO,SAGW,CAC7BkD,MAAO+C,EAAK/C,MACZC,SAAU8C,EAAK9C,SACfoD,KAAMN,EAAKM,O,ICsCEiG,G,4MAxCdvF,MAAQ,CACP5D,KAAM,CAAEH,MAAO,GAAIC,SAAU,GAAIoD,KAAM,IACvC6C,OAAQ,I,EAGTG,OAAS,CACRrG,MAAOoG,KAAIkB,SAAStH,QAAQuH,WAAWvF,MAAM,SAC7C/B,SAAUmG,KAAIkB,SAASG,IAAI,GAAGF,WAAWvF,MAAM,YAC/CqB,KAAM+C,KAAIkB,SAASC,WAAWvF,MAAM,S,EAGrC6E,S,sBAAW,8BAAA3G,EAAA,+EAEcqJ,GAAqB,EAAKxF,MAAM5D,MAF9C,OAEH7D,EAFG,OAGT0G,EAAKvC,aAAanE,EAASa,QAAQ,iBACnCuI,OAAOC,SAAW,IAJT,gDAML,KAAGrJ,UAAmC,MAAvB,KAAGA,SAASE,UACxB0J,EADwC,eAC1B,EAAKnC,MAAMmC,SACxBlG,MAAQ,KAAG1D,SAAS6D,KAC3B,EAAKiE,SAAS,CAAE8B,YATR,yD,uDAeV,OACC,gCACC,0CACA,uBAAMgC,SAAUpG,KAAK6E,aAArB,UACE7E,KAAKqG,YAAY,QAAS,QAAS,SACnCrG,KAAKqG,YAAY,WAAY,WAAY,YACzCrG,KAAKqG,YAAY,OAAQ,QACzBrG,KAAKuG,aAAa,sB,GAlCGpC,ICkBZuD,GApBQ,SAAC,GAA+C,IAAlCtH,EAAiC,EAA5CuH,UAAsBC,EAAsB,EAAtBA,OAAWpG,EAAW,sCACrE,OACC,cAACqG,EAAA,EAAD,2BACKrG,GADL,IAECoG,OAAQ,SAAAjI,GACP,OAAKuB,EAAKpC,iBASHsB,EAAY,cAACA,EAAD,eAAeT,IAAYiI,EAAOjI,GAPnD,cAAC2H,GAAA,EAAD,CACC1G,GAAI,CACHyG,SAAU,SACVpF,MAAO,CAAEmF,KAAMzH,EAAMkE,kBC4CdiE,I,wNAxCd7F,MAAQ,G,kEAGP,IAAMhB,EAAOC,EAAKpC,iBAClBkB,KAAKsC,SAAS,CAAErB,W,+BAGP,IAAD,OACAA,EAASjB,KAAKiC,MAAdhB,KACR,OACC,eAAC,IAAMgG,SAAP,WACC,cAAC,iBAAD,IACA,cAAC,GAAD,CAAQhG,KAAMA,IACd,sBAAMnE,UAAU,YAAhB,SACC,eAACiL,EAAA,EAAD,WACC,cAACF,EAAA,EAAD,CAAOpI,KAAK,SAASkI,UAAWT,KAChC,cAACW,EAAA,EAAD,CAAOpI,KAAK,UAAUkI,UAAWhE,KACjC,cAACkE,EAAA,EAAD,CAAOpI,KAAK,YAAYkI,UAAWH,KACnC,cAAC,GAAD,CACC/H,KAAK,cACLkI,UAAWvC,KAEZ,cAACyC,EAAA,EAAD,CACCpI,KAAK,UACLmI,OAAQ,SAAAjI,GAAK,OACZ,cAAC,EAAD,2BAAYA,GAAZ,IAAmBsB,KAAM,EAAKgB,MAAMhB,WAGtC,cAAC4G,EAAA,EAAD,CAAOpI,KAAK,aAAakI,UAAW7D,KACpC,cAAC+D,EAAA,EAAD,CAAOpI,KAAK,WAAWkI,UAAWnB,KAClC,cAACqB,EAAA,EAAD,CAAOpI,KAAK,aAAakI,UAAWlB,KACpC,cAACa,GAAA,EAAD,CAAUF,KAAK,IAAIY,OAAK,EAACpH,GAAG,YAC5B,cAAC0G,GAAA,EAAD,CAAU1G,GAAG,2B,GAjCDR,cCLH6H,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,YCEdhO,QAAQF,IAAI,WAAYM,uMAAYoO,gBAEpCC,IAASf,OACR,cAAC,IAAMgB,WAAP,UACC,cAACC,EAAA,EAAD,UACC,cAAC,GAAD,QAGFC,SAASC,eAAe,SAMzBd,O","file":"static/js/main.37674967.chunk.js","sourcesContent":["// For simplicity, I changed the implementation of this module\n// and removed Raven. We can always add that in the future\n// and this module is the only module we need to modify.\n\nfunction init() {}\n\nfunction log(error) {\n  console.error(error);\n}\n\nexport default {\n  init,\n  log\n};\n","import axios from \"axios\";\nimport logger from \"./logService\";\nimport { toast } from \"react-toastify\";\n\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\n\naxios.interceptors.response.use(null, error => {\n\tconst expectedError =\n\t\terror.response &&\n\t\terror.response.status >= 400 &&\n\t\terror.response.status < 500;\n\n\tif (!expectedError) {\n\t\tlogger.log(error);\n\t\ttoast.error(\"An unexpected error occurrred.\");\n\t}\n\n\treturn Promise.reject(error);\n});\n\nexport function setJwt(jwt) {\n\taxios.defaults.headers.common[\"x-auth-token\"] = jwt;\n}\n\nexport default {\n\tget: axios.get, // gets a record\n\tpost: axios.post, // creates new record\n\tput: axios.put, // updates a record\n\tdelete: axios.delete, // deletes a record\n\tsetJwt\n};\n","import http from \"./httpService\";\nimport { apiUrl } from \"../config.json\";\n\nconst apiEndPoint = \"/movies\";\n\nfunction movieUrl(id) {\n\treturn `${apiEndPoint}/${id}`;\n}\n\nexport function getMovies() {\n\treturn http.get(apiEndPoint);\n}\n\nexport function getMovie(movieId) {\n\treturn http.get(movieUrl(movieId));\n}\n\nexport function saveMovie(movie) {\n\tif (movie._id) {\n\t\tconst body = { ...movie };\n\t\tdelete body._id;\n\t\treturn http.put(movieUrl(movie._id), body);\n\t}\n\n\treturn http.post(apiEndPoint, movie);\n}\n\nexport function deleteMovie(movieId) {\n\treturn http.delete(movieUrl(movieId));\n}\n","import http from \"./httpService\";\nimport { apiUrl } from \"../config.json\";\n\nexport function getGenres() {\n\treturn http.get(\"/genres\");\n}\n","import React from \"react\";\nimport _ from \"lodash\";\nimport PropTypes from \"prop-types\";\n\nconst Pagination = ({ itemsCount, pageSize, onPageChange, currentPage }) => {\n\tconst pageCount = Math.ceil(itemsCount / pageSize);\n\tif (pageCount === 1) return null;\n\n\tconst pages = _.range(1, pageCount + 1);\n\n\treturn (\n\t\t<div>\n\t\t\t<nav>\n\t\t\t\t<ul className=\"pagination\">\n\t\t\t\t\t{pages.map(page => (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tkey={page}\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\tpage === currentPage\n\t\t\t\t\t\t\t\t\t? \"page-item active\"\n\t\t\t\t\t\t\t\t\t: \"page-item\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref=\"#1\"\n\t\t\t\t\t\t\t\tclassName=\"page-link\"\n\t\t\t\t\t\t\t\tonClick={() => onPageChange(page)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{page}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</nav>\n\t\t</div>\n\t);\n};\n\nPagination.propTypes = {\n\titemsCount: PropTypes.number.isRequired,\n\tpageSize: PropTypes.number.isRequired,\n\tcurrentPage: PropTypes.number.isRequired,\n\tonPageChange: PropTypes.func.isRequired\n};\n\nexport default Pagination;\n","import React from \"react\";\n\nconst ListGroup = ({\n\titems,\n\ttextProperty,\n\tvalueProperty,\n\tonItemSelect,\n\tselectedGenre\n}) => {\n\treturn (\n\t\t<div>\n\t\t\t<ul className=\"list-group\">\n\t\t\t\t{items.map(item => (\n\t\t\t\t\t<li\n\t\t\t\t\t\tonClick={() => onItemSelect(item)}\n\t\t\t\t\t\tkey={item[valueProperty]}\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\titem === selectedGenre\n\t\t\t\t\t\t\t\t? \"list-group-item active\"\n\t\t\t\t\t\t\t\t: \"list-group-item\"\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{item[textProperty]}\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</div>\n\t);\n};\n\nListGroup.defaultProps = {\n\ttextProperty: \"name\",\n\tvalueProperty: \"_id\"\n};\n\nexport default ListGroup;\n","import _ from \"lodash\";\n\nexport function paginate(items, pageNumber, pageSize) {\n\tconst startIndex = (pageNumber - 1) * pageSize;\n\n\treturn _(items).slice(startIndex).take(pageSize).value();\n}\n","import http from \"./httpService\";\nimport { apiUrl } from \"../config.json\";\nimport jwtDecode from \"jwt-decode\";\n\nconst apiEndPoint = \"/auth\";\nconst tokenKey = \"token\";\n\nhttp.setJwt(getJwt());\n\nexport async function login(email, password) {\n\tconst { data: jwt } = await http.post(apiEndPoint, { email, password });\n\tlocalStorage.setItem(tokenKey, jwt);\n}\n\nexport function loginWithJwt(jwt) {\n\tlocalStorage.setItem(tokenKey, jwt);\n}\n\nexport function logout() {\n\tlocalStorage.removeItem(tokenKey);\n}\n\nexport function getCurrentUser() {\n\ttry {\n\t\tconst jwt = localStorage.getItem(tokenKey);\n\t\treturn jwtDecode(jwt);\n\t} catch (ex) {\n\t\treturn null;\n\t}\n}\n\nexport function getJwt() {\n\treturn localStorage.getItem(tokenKey);\n}\n\nexport default {\n\tlogin,\n\tloginWithJwt,\n\tlogout,\n\tgetCurrentUser,\n\tgetJwt\n};\n","import React from \"react\";\n\nconst Like = ({ liked, onClick }) => {\n\tlet classes = \"fa fa-heart\";\n\tif (!liked) classes += \"-o\";\n\n\treturn (\n\t\t<i\n\t\t\tonClick={onClick}\n\t\t\tstyle={{ cursor: \"pointer\" }}\n\t\t\tclassName={classes}\n\t\t\taria-hidden=\"true\"\n\t\t/>\n\t);\n};\n\nexport default Like;\n","import React, { Component } from \"react\";\n\nclass TableHeader extends Component {\n\traiseSort = path => {\n\t\tconst sortColumn = { ...this.props.sortColumn };\n\t\tif (sortColumn.path === path) {\n\t\t\tsortColumn.order = sortColumn.order === \"asc\" ? \"desc\" : \"asc\";\n\t\t} else {\n\t\t\tsortColumn.path = path;\n\t\t\tsortColumn.order = \"asc\";\n\t\t}\n\t\tthis.props.onSort(sortColumn);\n\t};\n\n\trenderSortIcon = column => {\n\t\tconst { sortColumn } = this.props;\n\n\t\tif (column.path !== sortColumn.path) return null;\n\t\tif (sortColumn.order === \"asc\")\n\t\t\treturn <i className=\"fa fa-sort-asc\"></i>;\n\n\t\treturn <i className=\"fa fa-sort-desc\"></i>;\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<thead className=\"thead-light\">\n\t\t\t\t<tr>\n\t\t\t\t\t{this.props.columns.map(column => (\n\t\t\t\t\t\t<th\n\t\t\t\t\t\t\tclassName=\"clickable\"\n\t\t\t\t\t\t\tkey={column.path || column.key}\n\t\t\t\t\t\t\tonClick={() => this.raiseSort(column.path)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{column.label} {this.renderSortIcon(column)}\n\t\t\t\t\t\t</th>\n\t\t\t\t\t))}\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t);\n\t}\n}\n\nexport default TableHeader;\n","import React, { Component } from \"react\";\nimport _ from \"lodash\";\n\nclass TableBody extends Component {\n\trenderCell = (item, column) => {\n\t\tif (column.content) return column.content(item);\n\n\t\treturn _.get(item, column.path);\n\t};\n\n\tcreateKey = (item, column) => {\n\t\treturn item._id + (column.path || column.key);\n\t};\n\n\trender() {\n\t\tconst { data, columns } = this.props;\n\n\t\treturn (\n\t\t\t<tbody>\n\t\t\t\t{data.map(item => (\n\t\t\t\t\t<tr key={item._id}>\n\t\t\t\t\t\t{columns.map(column => (\n\t\t\t\t\t\t\t<td key={this.createKey(item, column)}>\n\t\t\t\t\t\t\t\t{this.renderCell(item, column)}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</tr>\n\t\t\t\t))}\n\t\t\t</tbody>\n\t\t);\n\t}\n}\n\nexport default TableBody;\n","import React from \"react\";\nimport TableHeader from \"./tableHeader\";\nimport TableBody from \"./tableBody\";\n\nconst Table = ({ data, columns, sortColumn, onSort }) => {\n\treturn (\n\t\t<table className=\"table\">\n\t\t\t<TableHeader\n\t\t\t\tcolumns={columns}\n\t\t\t\tsortColumn={sortColumn}\n\t\t\t\tonSort={onSort}\n\t\t\t/>\n\t\t\t<TableBody data={data} columns={columns} />\n\t\t</table>\n\t);\n};\n\nexport default Table;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport auth from \"../services/authService\";\nimport Like from \"./common/like\";\nimport Table from \"./common/table\";\n\nclass MoviesTable extends Component {\n\tcolumns = [\n\t\t{\n\t\t\tpath: \"title\",\n\t\t\tlabel: \"Title\",\n\t\t\tcontent: movie => (\n\t\t\t\t<Link to={`/movies/${movie._id}`}>{movie.title}</Link>\n\t\t\t)\n\t\t},\n\t\t{ path: \"genre.name\", label: \"Genre\" },\n\t\t{ path: \"numberInStock\", label: \"Stock\" },\n\t\t{ path: \"dailyRentalRate\", label: \"Rate\" },\n\t\t{\n\t\t\tkey: \"like\",\n\t\t\tcontent: movie => (\n\t\t\t\t<Like\n\t\t\t\t\tliked={movie.liked}\n\t\t\t\t\tonClick={() => this.props.onLike(movie)}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t];\n\n\tdeleteColumn = {\n\t\tkey: \"delete\",\n\t\tcontent: movie => (\n\t\t\t<button\n\t\t\t\tonClick={() => this.props.onDelete(movie)}\n\t\t\t\tclassName=\"btn btn-danger btn-sm\"\n\t\t\t>\n\t\t\t\tDelete\n\t\t\t</button>\n\t\t)\n\t};\n\n\tconstructor() {\n\t\tsuper();\n\t\tconst user = auth.getCurrentUser();\n\t\tif (user && user.isAdmin) {\n\t\t\tthis.columns.push(this.deleteColumn);\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { movies, sortColumn, onSort } = this.props;\n\n\t\treturn (\n\t\t\t<Table\n\t\t\t\tdata={movies}\n\t\t\t\tcolumns={this.columns}\n\t\t\t\tsortColumn={sortColumn}\n\t\t\t\tonSort={onSort}\n\t\t\t></Table>\n\t\t);\n\t}\n}\n\nexport default MoviesTable;\n","import { rest } from \"lodash\";\nimport React from \"react\";\n\nconst Input = ({ name, label, error, ...rest }) => {\n\treturn (\n\t\t<div className=\"form-group\">\n\t\t\t<label htmlFor={name}>{label}</label>\n\t\t\t<input {...rest} id={name} name={name} className=\"form-control\" />\n\t\t\t{error && <div className=\"alert alert-danger\">{error}</div>}\n\t\t</div>\n\t);\n};\n\nexport default Input;\n","import React from \"react\";\nimport Input from \"./input\";\n\nconst SearchBox = ({ value, onChange }) => {\n\treturn (\n\t\t<Input\n\t\t\ttype=\"text\"\n\t\t\tname=\"query\"\n\t\t\tclassName=\"form-control my-3\"\n\t\t\tplaceholder=\"Search...\"\n\t\t\tvalue={value}\n\t\t\tonChange={e => onChange(e.currentTarget.value)}\n\t\t/>\n\t);\n};\n\nexport default SearchBox;\n","import React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { getMovies, deleteMovie } from \"../services/movieService\";\nimport { getGenres } from \"../services/genreService\";\nimport Pagination from \"./common/pagination\";\nimport ListGroup from \"./common/listGroup\";\nimport { paginate } from \"../utils/paginate\";\nimport MoviesTable from \"./moviesTable\";\nimport { Link } from \"react-router-dom\";\nimport _ from \"lodash\";\nimport SearchBox from \"./common/searchBox\";\n\nexport class Movies extends Component {\n\tstate = {\n\t\tmovies: [],\n\t\tgenres: [],\n\t\tcurrentPage: 1,\n\t\tpageSize: 4,\n\t\tselectedGenre: null,\n\t\tsearchQuery: \"\",\n\t\tsortColumn: { path: \"title\", order: \"asc\" }\n\t};\n\n\tasync componentDidMount() {\n\t\tconst { data: data } = await getGenres();\n\t\tconst genres = [{ _id: \"\", name: \"All Genres\" }, ...data];\n\n\t\tconst { data: movies } = await getMovies();\n\t\tthis.setState({ movies, genres });\n\t}\n\n\thandleGenreSelect = genre => {\n\t\tthis.setState({\n\t\t\tselectedGenre: genre,\n\t\t\tsearchQuery: \"\",\n\t\t\tcurrentPage: 1\n\t\t});\n\t};\n\n\thandleDelete = async movie => {\n\t\tconst orginalMovies = this.state.movies;\n\t\tconst movies = orginalMovies.filter(c => c._id !== movie._id);\n\t\tthis.setState({ movies });\n\n\t\ttry {\n\t\t\tawait deleteMovie(movie._id);\n\t\t} catch (ex) {\n\t\t\tif (ex.response && ex.response.status === 404) {\n\t\t\t\ttoast.error(\"This movie has already been deleted\");\n\t\t\t}\n\n\t\t\tthis.setState({ movies: orginalMovies });\n\t\t}\n\t};\n\n\thandleLike = movie => {\n\t\tconst movies = [...this.state.movies];\n\t\tconst index = movies.indexOf(movie);\n\t\tmovies[index] = { ...movies[index] };\n\t\tmovies[index].liked = !movies[index].liked;\n\t\tthis.setState({ movies });\n\t};\n\n\thandlePageChange = page => {\n\t\tthis.setState({ currentPage: page });\n\t};\n\n\thandleSort = sortColumn => {\n\t\tthis.setState({ sortColumn });\n\t};\n\n\thandleSearch = query => {\n\t\tthis.setState({\n\t\t\tsearchQuery: query,\n\t\t\tselectedGenre: null,\n\t\t\tcurrentPage: 1\n\t\t});\n\t};\n\n\tgetPagedData = () => {\n\t\tconst {\n\t\t\tpageSize,\n\t\t\tcurrentPage,\n\t\t\tmovies: allMovies,\n\t\t\tselectedGenre,\n\t\t\tsearchQuery,\n\t\t\tsortColumn\n\t\t} = this.state;\n\n\t\tlet filtered = allMovies;\n\n\t\tif (searchQuery) {\n\t\t\tfiltered = allMovies.filter(m =>\n\t\t\t\tm.title.toLowerCase().startsWith(searchQuery.toLowerCase())\n\t\t\t);\n\t\t} else if (selectedGenre && selectedGenre._id) {\n\t\t\tfiltered = allMovies.filter(m => m.genre._id === selectedGenre._id);\n\t\t}\n\n\t\tconst sorted = _.orderBy(\n\t\t\tfiltered,\n\t\t\t[sortColumn.path],\n\t\t\t[sortColumn.order]\n\t\t);\n\n\t\tconst movies = paginate(sorted, currentPage, pageSize);\n\n\t\treturn { totalCount: filtered.length, data: movies };\n\t};\n\n\trender() {\n\t\tconst { pageSize, currentPage, sortColumn, searchQuery } = this.state;\n\t\tconst { totalCount, data: movies } = this.getPagedData();\n\t\tconst { user } = this.props;\n\n\t\treturn (\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-3\">\n\t\t\t\t\t<ListGroup\n\t\t\t\t\t\titems={this.state.genres}\n\t\t\t\t\t\tselectedGenre={this.state.selectedGenre}\n\t\t\t\t\t\tonItemSelect={this.handleGenreSelect}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col\">\n\t\t\t\t\t{user && (\n\t\t\t\t\t\t<Link to=\"/movies/new\" className=\"btn btn-primary mb-4\">\n\t\t\t\t\t\t\tNew Movie\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t)}\n\t\t\t\t\t<p>\n\t\t\t\t\t\tA total of {totalCount} movies have been found in our\n\t\t\t\t\t\trecords\n\t\t\t\t\t</p>\n\t\t\t\t\t<SearchBox\n\t\t\t\t\t\tvalue={searchQuery}\n\t\t\t\t\t\tonChange={this.handleSearch}\n\t\t\t\t\t/>\n\t\t\t\t\t<MoviesTable\n\t\t\t\t\t\tmovies={movies}\n\t\t\t\t\t\tsortColumn={sortColumn}\n\t\t\t\t\t\tonSort={this.handleSort}\n\t\t\t\t\t\tonLike={this.handleLike}\n\t\t\t\t\t\tonDelete={this.handleDelete}\n\t\t\t\t\t/>\n\t\t\t\t\t<Pagination\n\t\t\t\t\t\titemsCount={totalCount}\n\t\t\t\t\t\tpageSize={pageSize}\n\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\tonPageChange={this.handlePageChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Movies;\n","import React, { Component } from \"react\";\nimport auth from \"../services/authService\";\n\nclass Logout extends Component {\n\tcomponentDidMount() {\n\t\tauth.logout();\n\t\twindow.location = \"/\";\n\t}\n\n\trender() {\n\t\treturn null;\n\t}\n}\n\nexport default Logout;\n","import React from \"react\";\n\nconst Customers = () => {\n\treturn <h1>Customers</h1>;\n};\n\nexport default Customers;\n","import React from \"react\";\n\nconst Select = ({ name, label, options, error, ...rest }) => {\n\treturn (\n\t\t<div className=\"form-group\">\n\t\t\t<label htmlForm={name}>{label}</label>\n\t\t\t<select name={name} id={name} {...rest} className=\"form-control\">\n\t\t\t\t<option value=\"\" />\n\t\t\t\t{options.map(option => (\n\t\t\t\t\t<option key={option._id} value={option._id}>\n\t\t\t\t\t\t{option.name}\n\t\t\t\t\t</option>\n\t\t\t\t))}\n\t\t\t</select>\n\t\t\t{error && <div className=\"alert alert-danger\">{error}</div>}\n\t\t</div>\n\t);\n};\n\nexport default Select;\n","import React, { Component } from \"react\";\nimport Input from \"./input\";\nimport Joi from \"joi-browser\";\nimport Select from \"./select\";\n\nclass Form extends Component {\n\tstate = {\n\t\tdata: {},\n\t\terrors: {}\n\t};\n\n\tvalidate = () => {\n\t\tconst options = { abortEarly: false };\n\n\t\tconst { error } = Joi.validate(this.state.data, this.schema, options);\n\n\t\tif (!error) return null;\n\n\t\tconst errors = {};\n\t\tfor (let item of error.details) errors[item.path[0]] = item.message;\n\t\treturn errors;\n\t};\n\n\tvalidateProperty = ({ name, value }) => {\n\t\tconst obj = { [name]: value };\n\t\tconst schema = { [name]: this.schema[name] };\n\t\tconst { error } = Joi.validate(obj, schema);\n\n\t\treturn error ? error.details[0].message : null;\n\t};\n\n\thandleSubmit = e => {\n\t\te.preventDefault();\n\n\t\tconst errors = this.validate();\n\t\tthis.setState({ errors: errors || {} });\n\t\tif (errors) return;\n\n\t\tthis.doSubmit();\n\t};\n\n\thandleChange = ({ currentTarget: input }) => {\n\t\tconst errors = { ...this.state.errors };\n\t\tconst errorMessage = this.validateProperty(input);\n\t\tif (errorMessage) errors[input.name] = errorMessage;\n\t\telse delete errors[input.name];\n\n\t\tconst data = { ...this.state.data };\n\t\tdata[input.name] = input.value;\n\n\t\tthis.setState({ data, errors });\n\t};\n\n\trenderButton(label) {\n\t\treturn (\n\t\t\t<button disabled={this.validate()} className=\"btn btn-primary\">\n\t\t\t\t{label}\n\t\t\t</button>\n\t\t);\n\t}\n\n\trenderSelect(name, label, options) {\n\t\tconst { data, errors } = this.state;\n\n\t\treturn (\n\t\t\t<Select\n\t\t\t\tname={name}\n\t\t\t\tvalue={data[name]}\n\t\t\t\tlabel={label}\n\t\t\t\toptions={options}\n\t\t\t\tonChange={this.handleChange}\n\t\t\t\terror={errors[name]}\n\t\t\t/>\n\t\t);\n\t}\n\n\trenderInput(name, label, type = \"text\") {\n\t\tconst { data, errors } = this.state;\n\n\t\treturn (\n\t\t\t<Input\n\t\t\t\ttype={type}\n\t\t\t\tname={name}\n\t\t\t\tvalue={data[name]}\n\t\t\t\tlabel={label}\n\t\t\t\tonChange={this.handleChange}\n\t\t\t\terror={errors[name]}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default Form;\n","import React from \"react\";\nimport { getGenres } from \"../services/genreService\";\nimport { getMovie, saveMovie } from \"../services/movieService\";\nimport Joi from \"joi-browser\";\nimport Form from \"./common/form\";\n\nclass MovieForm extends Form {\n\tstate = {\n\t\tdata: {\n\t\t\ttitle: \"\",\n\t\t\tgenreId: \"\",\n\t\t\tnumberInStock: \"\",\n\t\t\tdailyRentalRate: \"\"\n\t\t},\n\t\tgenres: [],\n\t\terrors: {}\n\t};\n\n\tschema = {\n\t\t_id: Joi.string(),\n\t\ttitle: Joi.string().required().label(\"Title\"),\n\t\tgenreId: Joi.string().required().label(\"Genre\"),\n\t\tnumberInStock: Joi.number()\n\t\t\t.min(0)\n\t\t\t.max(100)\n\t\t\t.required()\n\t\t\t.label(\"Number In Stock\"),\n\t\tdailyRentalRate: Joi.number()\n\t\t\t.required()\n\t\t\t.min(0)\n\t\t\t.max(10)\n\t\t\t.label(\"Daily Rental Rate\")\n\t};\n\n\tasync componentDidMount() {\n\t\tawait this.populateGenre();\n\t\tawait this.populateMovies();\n\t}\n\n\tasync populateGenre() {\n\t\tconst { data: genres } = await getGenres();\n\t\tthis.setState({ genres });\n\t}\n\n\tasync populateMovies() {\n\t\ttry {\n\t\t\tconst movieId = this.props.match.params.id;\n\t\t\tif (movieId === \"new\") return;\n\n\t\t\tconst { data: movie } = await getMovie(movieId);\n\t\t\tthis.setState({ data: this.mapToViewModel(movie) });\n\t\t} catch (ex) {\n\t\t\tif (ex.response && ex.response.status === 404) {\n\t\t\t\tthis.props.history.replace(\"/not-found\");\n\t\t\t}\n\t\t}\n\t}\n\n\tmapToViewModel(movie) {\n\t\treturn {\n\t\t\t_id: movie._id,\n\t\t\ttitle: movie.title,\n\t\t\tgenreId: movie.genre._id,\n\t\t\tnumberInStock: movie.numberInStock,\n\t\t\tdailyRentalRate: movie.dailyRentalRate\n\t\t};\n\t}\n\n\tdoSubmit = async () => {\n\t\tawait saveMovie(this.state.data);\n\n\t\tthis.props.history.push(\"/movies\");\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h1>Movie Form</h1>\n\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t\t{this.renderInput(\"title\", \"Name\")}\n\t\t\t\t\t{this.renderSelect(\"genreId\", \"Genre\", this.state.genres)}\n\t\t\t\t\t{this.renderInput(\n\t\t\t\t\t\t\"numberInStock\",\n\t\t\t\t\t\t\"Number In Stock\",\n\t\t\t\t\t\t\"number\"\n\t\t\t\t\t)}\n\t\t\t\t\t{this.renderInput(\"dailyRentalRate\", \"Rate\")}\n\t\t\t\t\t{this.renderButton(\"Save\")}\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default MovieForm;\n","import React from \"react\";\n\nconst Rentals = () => {\n\treturn <h1>Rentals</h1>;\n};\n\nexport default Rentals;\n","import React from \"react\";\n\nconst NotFound = () => {\n\treturn <h1>Not Found</h1>;\n};\n\nexport default NotFound;\n","import React from \"react\";\nimport { Link, NavLink } from \"react-router-dom\";\n\nconst NavBar = ({ user }) => {\n\treturn (\n\t\t<nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n\t\t\t<Link className=\"navbar-brand\" to=\"/\">\n\t\t\t\tVidly\n\t\t\t</Link>\n\t\t\t<button\n\t\t\t\tclassName=\"navbar-toggler\"\n\t\t\t\ttype=\"button\"\n\t\t\t\tdata-toggle=\"collapse\"\n\t\t\t\tdata-target=\"#navbarNavAltMarkup\"\n\t\t\t\taria-controls=\"navbarNavAltMarkup\"\n\t\t\t\taria-expanded=\"false\"\n\t\t\t\taria-label=\"Toggle navigation\"\n\t\t\t>\n\t\t\t\t<span className=\"navbar-toggler-icon\"></span>\n\t\t\t</button>\n\t\t\t<div className=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\n\t\t\t\t<div className=\"navbar-nav\">\n\t\t\t\t\t<NavLink className=\"nav-item nav-link\" to=\"/movies\">\n\t\t\t\t\t\tMovies\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t<NavLink className=\"nav-item nav-link\" to=\"/customers\">\n\t\t\t\t\t\tCustomers\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t<NavLink className=\"nav-item nav-link\" to=\"/rentals\">\n\t\t\t\t\t\tRentals\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t{!user && (\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<NavLink className=\"nav-item nav-link\" to=\"/login\">\n\t\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\tclassName=\"nav-item nav-link\"\n\t\t\t\t\t\t\t\tto=\"/register\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tRegister\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t)}\n\t\t\t\t\t{user && (\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\tclassName=\"nav-item nav-link\"\n\t\t\t\t\t\t\t\tto=\"/profile\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{user.name}\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t<NavLink className=\"nav-item nav-link\" to=\"/logout\">\n\t\t\t\t\t\t\t\tLogout\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</nav>\n\t);\n};\n\nexport default NavBar;\n","import React from \"react\";\nimport Joi from \"joi-browser\";\nimport Form from \"./common/form\";\nimport auth from \"../services/authService\";\nimport { Redirect } from \"react-router-dom\";\n\nclass LoginForm extends Form {\n\tstate = {\n\t\tdata: { username: \"\", password: \"\" },\n\t\terrors: {}\n\t};\n\n\tschema = {\n\t\tusername: Joi.string().required().label(\"Username\"),\n\t\tpassword: Joi.string().required().label(\"Password\")\n\t};\n\n\tdoSubmit = async () => {\n\t\ttry {\n\t\t\tconst { data } = this.state;\n\t\t\tawait auth.login(data.username, data.password);\n\n\t\t\tconst { state } = this.props.location;\n\t\t\twindow.location = state ? state.from.pathname : \"/\";\n\t\t} catch (ex) {\n\t\t\tif (ex.response && ex.response.status === 400) {\n\t\t\t\tconst errors = { ...this.state.errors };\n\t\t\t\terrors.username = ex.response.data;\n\t\t\t\tthis.setState({ errors });\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\tif (auth.getCurrentUser()) return <Redirect to=\"/\" />;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h1>Login</h1>\n\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t\t{this.renderInput(\"username\", \"Username\")}\n\t\t\t\t\t{this.renderInput(\"password\", \"Password\", \"password\")}\n\t\t\t\t\t{this.renderButton(\"Login\")}\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default LoginForm;\n","import http from \"./httpService\";\nimport { apiUrl } from \"../config.json\";\n\nconst apiEndPoint = \"/users\";\n\nexport function register(user) {\n\treturn http.post(apiEndPoint, {\n\t\temail: user.email,\n\t\tpassword: user.password,\n\t\tname: user.name\n\t});\n}\n","import React from \"react\";\nimport Joi from \"joi-browser\";\nimport Form from \"./common/form\";\nimport * as userService from \"../services/userService\";\nimport auth from \"../services/authService\";\n\nclass RegisterForm extends Form {\n\tstate = {\n\t\tdata: { email: \"\", password: \"\", name: \"\" },\n\t\terrors: {}\n\t};\n\n\tschema = {\n\t\temail: Joi.string().email().required().label(\"Email\"),\n\t\tpassword: Joi.string().min(5).required().label(\"Password\"),\n\t\tname: Joi.string().required().label(\"Name\")\n\t};\n\n\tdoSubmit = async () => {\n\t\ttry {\n\t\t\tconst response = await userService.register(this.state.data);\n\t\t\tauth.loginWithJwt(response.headers[\"x-auth-token\"]);\n\t\t\twindow.location = \"/\";\n\t\t} catch (ex) {\n\t\t\tif (ex.response && ex.response.status === 400) {\n\t\t\t\tconst errors = { ...this.state.errors };\n\t\t\t\terrors.email = ex.response.data;\n\t\t\t\tthis.setState({ errors });\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h1>Register</h1>\n\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t\t{this.renderInput(\"email\", \"Email\", \"email\")}\n\t\t\t\t\t{this.renderInput(\"password\", \"Password\", \"password\")}\n\t\t\t\t\t{this.renderInput(\"name\", \"Name\")}\n\t\t\t\t\t{this.renderButton(\"Register\")}\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default RegisterForm;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport auth from \"../../services/authService\";\n\nconst ProtectedRoute = ({ component: Component, render, ...rest }) => {\n\treturn (\n\t\t<Route\n\t\t\t{...rest}\n\t\t\trender={props => {\n\t\t\t\tif (!auth.getCurrentUser())\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Redirect\n\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\tpathname: \"/login\",\n\t\t\t\t\t\t\t\tstate: { from: props.location }\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\treturn Component ? <Component {...props} /> : render(props);\n\t\t\t}}\n\t\t/>\n\t);\n};\n\nexport default ProtectedRoute;\n","import React, { Component } from \"react\";\nimport { Movies } from \"./components/movies\";\nimport { Route, Redirect, Switch } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\nimport Logout from \"./components/logout\";\nimport Customers from \"./components/customers\";\nimport MovieForm from \"./components/movieForm\";\nimport Rentals from \"./components/rentals\";\nimport NotFound from \"./components/notFound\";\nimport NavBar from \"./components/common/navBar\";\nimport LoginForm from \"./components/loginForm\";\nimport RegisterForm from \"./components/registerForm\";\nimport ProtectedRoute from \"./components/common/protectedRoute\";\nimport auth from \"./services/authService\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"./App.css\";\n\nclass App extends Component {\n\tstate = {};\n\n\tcomponentDidMount() {\n\t\tconst user = auth.getCurrentUser();\n\t\tthis.setState({ user });\n\t}\n\n\trender() {\n\t\tconst { user } = this.state;\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<ToastContainer />\n\t\t\t\t<NavBar user={user} />\n\t\t\t\t<main className=\"container\">\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path=\"/login\" component={LoginForm} />\n\t\t\t\t\t\t<Route path=\"/logout\" component={Logout} />\n\t\t\t\t\t\t<Route path=\"/register\" component={RegisterForm} />\n\t\t\t\t\t\t<ProtectedRoute\n\t\t\t\t\t\t\tpath=\"/movies/:id\"\n\t\t\t\t\t\t\tcomponent={MovieForm}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath=\"/movies\"\n\t\t\t\t\t\t\trender={props => (\n\t\t\t\t\t\t\t\t<Movies {...props} user={this.state.user} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route path=\"/customers\" component={Customers} />\n\t\t\t\t\t\t<Route path=\"/rentals\" component={Rentals} />\n\t\t\t\t\t\t<Route path=\"/not-found\" component={NotFound} />\n\t\t\t\t\t\t<Redirect from=\"/\" exact to=\"/movies\" />\n\t\t\t\t\t\t<Redirect to=\"/not-found\" />\n\t\t\t\t\t</Switch>\n\t\t\t\t</main>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"font-awesome/css/font-awesome.css\";\n\nconsole.log(\"SUPERMAN\", process.env.REACT_APP_NAME);\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<BrowserRouter>\n\t\t\t<App />\n\t\t</BrowserRouter>\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}